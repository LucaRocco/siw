<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/admin_fragment.html :: header"></head>
<body>
<h1 th:text="#{title.create.artwork}"></h1>
<form enctype="multipart/form-data" method="POST" th:action="@{/admin/crea_opera}" th:object="${nuovaOpera}">
    <div th:if="${#fields.hasGlobalErrors()}">
        <p th:each="err : ${#fields.globalErrors()}" th:text="${err}"></p>
    </div>
    <div>
        <b><span th:text="#{text.title}"></span></b>
        <div><input th:field="*{titolo}" type="text"/></div>
        <span th:errors="*{titolo}" th:if="${#fields.hasErrors('titolo')}"></span>
    </div>
    <div>
        <b><span th:text="#{text.creation.year}"></span></b>
        <div><input th:field="*{annoRealizzazione}" type="text"/></div>
        <span th:errors="*{annoRealizzazione}" th:if="${#fields.hasErrors('annoRealizzazione')}"></span>
    </div>
    <div>
        <b><span th:text="#{description}"></span></b>
        <div><input th:field="*{descrizione}" type="text"/></div>
    </div>
    <div>
        <b><span th:text="#{text.photo}"></span></b>
        <div><input accept="image/png, image/jpeg" name="immagine" type="file"/></div>
    </div>
    <div>
        <b><span th:text="#{text.author}"></span></b>
    </div>
    <select class="dropdown" name="autoreSelezionato">
        <option th:text="#{dropdown.select.text}" value="0"></option>
        <option class="dropdown-element" th:each="artista : ${artisti}" th:text="|${artista.nome} ${artista.cognome}|"
                th:value="${artista.id}">
        </option>
    </select>
    <span th:errors="*{autore}" th:if="${#fields.hasErrors('autore')}"></span>
    <div>
        <span><button class="a-button" th:text="#{button.send}" type="submit">Invio</button></span>
    </div>
</form>
</body>
</html>